{% extends "base.html" %}
{% block title %}Rules - Hermes Radio{% endblock %}
{% block content %}
<h2>Rules & Settings</h2>

<form method="post" action="/admin/rules">
    <div class="grid">
        <label>
            Every N tracks
            <input type="number" name="every_n_tracks" value="{{ settings.get('every_n_tracks', '4') }}" min="1" max="20">
        </label>
        <label>
            Prepare at track
            <input type="number" name="prepare_at_track" value="{{ settings.get('prepare_at_track', '3') }}" min="1" max="20">
        </label>
        <label>
            Cooldown (seconds)
            <input type="number" name="cooldown_seconds" value="{{ settings.get('cooldown_seconds', '120') }}" min="0">
        </label>
    </div>

    <div class="grid">
        <label>
            Break timeout (seconds)
            <input type="number" name="break_timeout_seconds" value="{{ settings.get('break_timeout_seconds', '30') }}" min="10" max="120">
        </label>
        <label>
            Breaking score threshold
            <input type="number" name="breaking_score_threshold" value="{{ settings.get('breaking_score_threshold', '8') }}" min="1" max="10">
        </label>
        <label>
            Dedupe window (minutes)
            <input type="number" name="news_dedupe_window_minutes" value="{{ settings.get('news_dedupe_window_minutes', '60') }}" min="10">
        </label>
    </div>

    <div class="grid">
        <label>
            <input type="checkbox" name="quiet_mode" role="switch"
                   {{ 'checked' if settings.get('quiet_mode') == 'true' else '' }}>
            Quiet Mode
        </label>
        <label>
            Quiet hours start
            <input type="time" name="quiet_hours_start" value="{{ settings.get('quiet_hours_start', '') }}">
        </label>
        <label>
            Quiet hours end
            <input type="time" name="quiet_hours_end" value="{{ settings.get('quiet_hours_end', '') }}">
        </label>
    </div>

    <button type="submit">Save</button>
</form>
{% endblock %}
