{% extends "base.html" %}
{% block title %}Hosts - Hermes Radio{% endblock %}
{% block content %}
<h2>AI Hosts</h2>

{% for host in hosts %}
<article>
    <header>{{ host.label }} ({{ host.id }}) â€” {{ host.tts_provider or 'piper' }} / {{ host.tts_voice_id or host.piper_model or 'default' }}</header>
    <form method="post" action="/admin/hosts/{{ host.id }}">
        <div class="grid">
            <label>
                Name
                <input type="text" name="label" value="{{ host.label }}">
            </label>
            <label>
                <input type="checkbox" name="enabled" {{ 'checked' if host.enabled else '' }}>
                Enabled
            </label>
            <label>
                <input type="checkbox" name="is_breaking_host" {{ 'checked' if host.is_breaking_host else '' }}>
                Breaking Host
            </label>
        </div>
        <div class="grid">
            <label>
                TTS Provider
                <select name="tts_provider">
                    <option value="piper" {{ 'selected' if host.tts_provider == 'piper' or not host.tts_provider else '' }}>Piper (local)</option>
                    <option value="elevenlabs" {{ 'selected' if host.tts_provider == 'elevenlabs' else '' }}>ElevenLabs</option>
                    <option value="openai" {{ 'selected' if host.tts_provider == 'openai' else '' }}>OpenAI</option>
                </select>
            </label>
            <label>
                Voice ID
                <input type="text" name="tts_voice_id" value="{{ host.tts_voice_id or '' }}"
                       placeholder="piper: model name | elevenlabs: voice ID | openai: alloy/echo/fable/onyx/nova/shimmer">
            </label>
        </div>
        <label>
            Personality Prompt
            <textarea name="personality_prompt" rows="4">{{ host.personality_prompt }}</textarea>
        </label>
        <button type="submit">Save</button>
    </form>
</article>
{% endfor %}
{% endblock %}
